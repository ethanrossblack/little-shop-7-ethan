<%= render partial: "merchants/header", locals: {merchant: @merchant} %>

<div id="merchant_invoice_info">
  <h1>Invoice #<%= @invoice.id %></h1>

  <p><b>Status: </b><%= @invoice.status.titleize %></p>
  <p><b>Created on: </b><%= @invoice.formatted_date %></p>

  <div id="merchant_invoice_customer_info">
    <h2>Customer:</h2>
    <p><%= @invoice.customer.full_name %></p>
  </div>

  <div id="merchant_invoice_items">
    <h2>Items on this Invoice:</h2>

    <table class="invoice-table">
    <thead>
      <tr>
        <th>Item Name</th>
        <th>Quantity</th>
        <th>Unit Price</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <% @merchant_invoice_items.each do |invoice_item| %>
        <tr>
          <td><%= invoice_item.item.name %></td>
          <td><%= invoice_item.quantity %></td>
          <td><%= invoice_item.display_price %></td>
          <td><%= invoice_item.titleize %></td>
        </tr>
      <% end %>
  </div>
  
</div>
